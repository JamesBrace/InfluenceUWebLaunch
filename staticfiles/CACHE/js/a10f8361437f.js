(function(){'use strict';angular.module('app',['config','routes','verification','notify']).run(run);function run($http){$http.defaults.xsrfHeaderName='X-CSRFToken';$http.defaults.xsrfCookieName='csrftoken';}
angular.module('notify',[]);angular.module('routes',['ngRoute']);angular.module('config',[]);})();(function(){'use strict';angular.module('config').config(config);config.$inject=['$locationProvider'];function config($locationProvider){$locationProvider.html5Mode(true);$locationProvider.hashPrefix('!');}})();(function(){'use strict';angular.module('routes').config(config);config.$inject=['$routeProvider'];function config($routeProvider){$routeProvider.when('/',{controller:'RegisterController',controllerAs:'vm',templateUrl:'/static/templates/verification/register.html'}).when('/activate/complete',{templateUrl:'/static/templates/verification/activated.html'}).when('/success',{controller:'ResendController',controllerAs:'vm',templateUrl:'/static/templates/verification/success.html'});}})();(function(){'use strict';angular.module('verification',['verification.controllers','verification.services']);angular.module('verification.controllers',[]);angular.module('verification.services',['ngCookies']);})();!function(){"use strict";function a(a,b){function d(c,d,e,f){function g(b,c,d,e){a.putObject("registeredUser",b.data),window.location="/success"}function h(a,b,c,d){var e;e={success:!1,message:a.data.message},f(e)}return b.post("/api/v1/accounts/",{full_name:c,email:d,password:e}).then(g,h)}function e(a){function e(b,c,d,e){var f;f={success:!0,message:"Successfully resent your email! Don't forget to check your spam folder!"},a(f)}function f(b,c,d,e){var f;f={success:!1,message:"Sorry something went wrong on our part! Try giving us call if you have any further issues"},a(f)}var c=g(),d=c.email;return console.log(d),b.post("/api/v1/resend/",{email:d}).then(e,f)}function g(){if(a.get("registeredUser"))return a.getObject("registeredUser")}function h(){return!!g()}function j(){return!0}var c={register:d,getRegisteredUser:g,isRegistered:h,isAuthenticated:j,resend:e};return c}angular.module("verification.services").factory("Verification",a),a.$inject=["$cookies","$http"]}();(function(){'use strict';angular.module('verification.controllers').controller('VerificationController',VerificationController);VerificationController.$inject=['$location','$scope','Verification'];function VerificationController($location,$scope,Verification){var vm=this;vm.verify=verify;activate();function activate(){if(!Verification.isRegistered()){$location.url('/register');}if(!Verification.isAuthenticated()){$location.url('/redirect');}}function verify(isValid){if(isValid){Verification.verify(vm.verify_code);}}}})();(function(){'use strict';angular.module('notify').factory('FlashService',FlashService);FlashService.$inject=['$rootScope'];function FlashService($rootScope){var service={};service.Success=Success;service.Error=Error;initService();return service;function initService(){$rootScope.$on('$locationChangeStart',function(){clearFlashMessage();});function clearFlashMessage(){var flash=$rootScope.flash;if(flash){if(!flash.keepAfterLocationChange){delete $rootScope.flash;}else{flash.keepAfterLocationChange=false;}}}}
function Success(message,keepAfterLocationChange){$rootScope.flash={message:message,type:'success',keepAfterLocationChange:keepAfterLocationChange};}
function Error(message,keepAfterLocationChange){$rootScope.flash={message:message,type:'error',keepAfterLocationChange:keepAfterLocationChange};}}})();(function(){'use strict';angular.module('verification.controllers').controller('EmailController',EmailController);EmailController.$inject=['$location','$scope','Verification'];function EmailController($location,$scope,Verification){var vm=this;vm.verifyEmail=verifyEmail;activate();function activate(){var message={status:'success',message:'Hello there!'};notify(message);if(Verification.isRegistered()){$location.url('/verify');}if(!Verification.isAuthenticated()){$location.url('/redirect');}}function verifyEmail(isValid){if(isValid){Verification.verifyEmail(vm.verify_email);}}}})();(function(){'use strict';angular.module('verification.controllers').controller('VerificationController',VerificationController);VerificationController.$inject=['$location','$scope','Verification'];function VerificationController($location,$scope,Verification){var vm=this;vm.verify=verify;activate();function activate(){if(!Verification.isRegistered()){$location.url('/register');}if(!Verification.isAuthenticated()){$location.url('/redirect');}}function verify(isValid){if(isValid){Verification.verify(vm.verify_code);}}}})();(function(){'use strict';angular.module('verification.controllers').controller('RegisterController',RegisterController);RegisterController.$inject=['$location','$scope','Verification','FlashService'];function RegisterController($location,$scope,Verification,FlashService){var vm=this;vm.register=register;vm.isSaving=false;vm.submitted=false;activate();function activate(){if(Verification.isRegistered()){$location.url('/success');}}function register(isValid){if(isValid){vm.submitted=true;vm.isSaving=true;Verification.register(vm.full_name,vm.email,vm.password,function(response){if(response){vm.dataLoading=false;vm.submitted=false;vm.message=response.message;}});}else{vm.submitted=false;vm.message="There are still invalid fields below";}}}})();(function(){'use strict';angular.module('verification.controllers').controller('ResendController',ResendController);ResendController.$inject=['$location','$scope','Verification'];function ResendController($location,$scope,Verification){var vm=this;vm.resend=resend;vm.reset=reset;vm.sending=false;vm.message_success=null;vm.message_fail=null;vm.sent=false;vm.success=false;vm.fail=false;activate();function activate(){if(!Verification.isRegistered()){$location.url('/');}}function reset(){vm.sending=false;vm.message_success=null;vm.message_fail=null;vm.sent=false;vm.success=false;vm.fail=false;}function resend(){vm.sending=true;Verification.resend(function(response){if(response){vm.sending=false;vm.sent=true;if(response.success==true){vm.success=true;vm.message_success=response.message;}else{vm.fail=true;vm.message_fail=response.message;}}});}}})();